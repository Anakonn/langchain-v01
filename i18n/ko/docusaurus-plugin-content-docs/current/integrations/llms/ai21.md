---
sidebar_label: AI21 Labs
translated: true
---

# AI21LLM

이 예제에서는 `AI21` 모델과 상호 작용하는 방법을 LangChain을 사용하여 살펴봅니다.

## 설치

```python
!pip install -qU langchain-ai21
```

## 환경 설정

[AI21 API 키](https://docs.ai21.com/)를 얻고 `AI21_API_KEY` 환경 변수를 설정해야 합니다:

```python
import os
from getpass import getpass

os.environ["AI21_API_KEY"] = getpass()
```

## 사용법

```python
from langchain_ai21 import AI21LLM
from langchain_core.prompts import PromptTemplate

template = """Question: {question}

Answer: Let's think step by step."""

prompt = PromptTemplate.from_template(template)

model = AI21LLM(model="j2-ultra")

chain = prompt | model

chain.invoke({"question": "What is LangChain?"})
```

```output
'\nLangChain is a (database)\nLangChain is a database for storing and processing documents'
```

# AI21 문맥 답변

AI21의 문맥 답변 모델을 사용하면 텍스트 또는 문서를 받아 컨텍스트로 사용하고 질문을 받아 이 컨텍스트를 기반으로 답변을 반환할 수 있습니다.

이는 문서에 답변이 없는 경우 모델이 거짓 답변을 제공하지 않고 이를 나타낼 수 있음을 의미합니다.

```python
from langchain_ai21 import AI21ContextualAnswers

tsm = AI21ContextualAnswers()

response = tsm.invoke(input={"context": "Your context", "question": "Your question"})
```

체인, 출력 파서 및 벡터 데이터베이스와 함께 사용할 수도 있습니다.

```python
from langchain_ai21 import AI21ContextualAnswers
from langchain_core.output_parsers import StrOutputParser

tsm = AI21ContextualAnswers()
chain = tsm | StrOutputParser()

response = chain.invoke(
    {"context": "Your context", "question": "Your question"},
)
```
