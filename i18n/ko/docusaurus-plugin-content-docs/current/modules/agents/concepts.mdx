---
sidebar_position: 1
translated: true
---

# 개념

에이전트의 핵심 아이디어는 언어 모델을 사용하여 취할 일련의 조치를 선택하는 것입니다.
체인에서는 일련의 조치가 코드에 하드 코딩됩니다.
에이전트에서는 언어 모델이 어떤 조치를 취하고 어떤 순서로 취할지 결정하는 추론 엔진으로 사용됩니다.

여기에는 몇 가지 핵심 구성 요소가 있습니다:

## 스키마

LangChain에는 에이전트 작업을 쉽게 만들기 위한 여러 추상화가 있습니다.

### AgentAction

이것은 에이전트가 취해야 할 조치를 나타내는 데이터 클래스입니다.
`tool` 속성(호출되어야 할 도구의 이름)과 `tool_input` 속성(해당 도구에 대한 입력)이 있습니다.

### AgentFinish

이것은 에이전트가 사용자에게 반환할 준비가 되었을 때의 최종 결과를 나타냅니다.
`return_values` 키-값 매핑을 포함하며, 이는 최종 에이전트 출력을 포함합니다.
일반적으로 이에는 에이전트의 응답이 포함된 `output` 키가 포함됩니다.

### 중간 단계

이것은 현재 에이전트 실행에서의 이전 에이전트 조치와 해당 출력을 나타냅니다.
이는 향후 반복에 전달되어 에이전트가 이미 수행한 작업을 알 수 있도록 하는 것이 중요합니다.
이것은 `List[Tuple[AgentAction, Any]]` 유형으로 입력됩니다.
관찰은 현재 `Any` 유형으로 남겨두어 최대한 유연성을 높였습니다.
실제로는 이것이 종종 문자열입니다.

## 에이전트

이것은 다음에 어떤 단계를 취할지 결정하는 책임이 있는 체인입니다.
이는 일반적으로 언어 모델, 프롬프트 및 출력 파서에 의해 구동됩니다.

다양한 에이전트는 추론을 위한 다양한 프롬프팅 스타일, 입력 인코딩 방식 및 출력 구문 분석 방식을 가지고 있습니다.
사용 가능한 에이전트 유형의 전체 목록은 [에이전트 유형](/docs/modules/agents/agent_types/)을 참조하십시오.
또한 필요한 경우 **사용자 정의 에이전트를 쉽게 구축**할 수 있습니다.

### 에이전트 입력

에이전트의 입력은 키-값 매핑입니다.
필수 키는 하나뿐입니다: `intermediate_steps`는 위에서 설명한 `Intermediate Steps`에 해당합니다.

일반적으로 PromptTemplate은 이러한 쌍을 LLM에 가장 잘 전달될 수 있는 형식으로 변환합니다.

### 에이전트 출력

출력은 다음에 취할 조치 또는 사용자에게 보낼 최종 응답(`AgentAction` 또는 `AgentFinish`)입니다.
구체적으로 이것은 `Union[AgentAction, List[AgentAction], AgentFinish]` 유형으로 입력될 수 있습니다.

출력 파서는 원시 LLM 출력을 이 세 가지 유형 중 하나로 변환하는 책임이 있습니다.

## AgentExecutor

에이전트 실행기는 에이전트의 런타임입니다.
이것은 실제로 에이전트를 호출하고, 에이전트가 선택한 조치를 실행하며, 조치 출력을 에이전트에게 다시 전달하고 반복하는 역할을 합니다.
의사 코드로 보면 대략 다음과 같습니다:

```python
next_action = agent.get_action(...)
while next_action != AgentFinish:
    observation = run(next_action)
    next_action = agent.get_action(..., next_action, observation)
return next_action
```

이것이 단순해 보일 수 있지만, 이 런타임은 다음과 같은 여러 가지 복잡성을 처리합니다:

1. 에이전트가 존재하지 않는 도구를 선택하는 경우 처리
2. 도구에서 오류가 발생하는 경우 처리
3. 에이전트가 도구 호출로 구문 분석할 수 없는 출력을 생성하는 경우 처리
4. stdout 및/또는 [LangSmith](/docs/langsmith)에 모든 수준(에이전트 결정, 도구 호출)의 로깅 및 관찰 가능성 처리

## 도구

도구는 에이전트가 호출할 수 있는 기능입니다.
`Tool` 추상화에는 두 가지 구성 요소가 있습니다:

1. 도구의 입력 스키마. 이것은 LLM에 도구를 호출하는 데 필요한 매개변수를 알려줍니다. 그렇지 않으면 올바른 입력이 무엇인지 알 수 없습니다. 이 매개변수는 적절하게 명명되고 설명되어야 합니다.
2. 실행할 기능. 이는 일반적으로 호출되는 Python 함수입니다.

### 고려 사항

도구와 관련하여 두 가지 중요한 설계 고려 사항이 있습니다:

1. 에이전트에게 올바른 도구에 대한 액세스 권한 부여
2. 에이전트에게 가장 도움이 되는 방식으로 도구 설명

두 가지를 모두 고려하지 않으면 작동하는 에이전트를 구축할 수 없습니다.
에이전트에게 올바른 도구 집합에 대한 액세스 권한을 부여하지 않으면 에이전트가 제공한 목표를 달성할 수 없습니다.
도구를 잘 설명하지 않으면 에이전트가 이를 올바르게 사용할 수 없습니다.

LangChain은 다양한 기본 제공 도구를 제공하지만 사용자 정의 도구를 정의하는 것도 쉽습니다(사용자 정의 설명 포함).
기본 제공 도구의 전체 목록은 [도구 통합 섹션](/docs/integrations/tools/)을 참조하십시오.

## 도구 키트

많은 일반적인 작업의 경우 에이전트에게 관련 도구 집합이 필요합니다.
이를 위해 LangChain은 도구 키트 개념을 제공합니다. 도구 키트는 특정 목적을 달성하는 데 필요한 약 3-5개의 도구 그룹입니다.
예를 들어 GitHub 도구 키트에는 GitHub 문제 검색, 파일 읽기, 댓글 달기 등의 도구가 포함됩니다.

LangChain은 시작하는 데 도움이 되는 다양한 도구 키트를 제공합니다.
기본 제공 도구 키트의 전체 목록은 [도구 키트 통합 섹션](/docs/integrations/toolkits/)을 참조하십시오.
