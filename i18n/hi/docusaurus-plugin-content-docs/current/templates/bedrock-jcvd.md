---
translated: true
---

# рдмреЗрдбреНрд░реЙрдХ JCVD ЁЯХ║ЁЯеЛ

## рдЕрд╡рд▓реЛрдХрди

LangChain рдЯреЗрдореНрдкрд▓реЗрдЯ рдЬреЛ [рдПрдВрдереНрд░реЛрдкрд┐рдХ рдХреЗ рдХреНрд▓реЙрдб рдкрд░ рдЕрдореЗрдЬрд╝рди рдмреЗрдбреНрд░реЙрдХ](https://aws.amazon.com/bedrock/claude/) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ JCVD рдХреА рддрд░рд╣ рд╡реНрдпрд╡рд╣рд╛рд░ рдХрд░рддрд╛ рд╣реИред

> рдореИрдВ рдЪреИрдЯрдмреЙрдЯреНрд╕ рдХрд╛ рдлреНрд░реЗрдб рдПрд╕реНрдЯреЗрдпрд░ рд╣реВрдВ! ЁЯХ║

## рд╡рд╛рддрд╛рд╡рд░рдг рд╕реЗрдЯрдЕрдк

### AWS рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕

рдпрд╣ рдЯреЗрдореНрдкрд▓реЗрдЯ [рдмреЛрдЯреЛ3](https://boto3.amazonaws.com/v1/documentation/api/latest/index.html), рдкрд╛рдпрдерди рдХреЗ рд▓рд┐рдП AWS SDK, рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ [рдЕрдореЗрдЬрд╝рди рдмреЗрдбреНрд░реЙрдХ](https://aws.amazon.com/bedrock/) рдХреЛ рдХреЙрд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред рдЖрдк **рдЬрд░реВрд░** AWS рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕ *рдФрд░* рдПрдХ AWS рдХреНрд╖реЗрддреНрд░ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВ рддрд╛рдХрд┐ рдЕрдиреБрд░реЛрдз рдХрд┐рдП рдЬрд╛ рд╕рдХреЗрдВред

> рдЗрд╕ рдмрд╛рд░реЗ рдореЗрдВ рдЬрд╛рдирдХрд╛рд░реА рдХреЗ рд▓рд┐рдП, [AWS рдмреЛрдЯреЛ3 рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реАрдХрд░рдг](https://boto3.amazonaws.com/v1/documentation/api/latest/guide/credentials.html) (рдбреЗрд╡рд▓рдкрд░ рдЧрд╛рдЗрдб > рдХреНрд░реЗрдбреЗрдВрд╢рд┐рдпрд▓реНрд╕) рджреЗрдЦреЗрдВред

### рдлрд╛рдЙрдВрдбреЗрд╢рди рдореЙрдбрд▓реНрд╕

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд░реВрдк рд╕реЗ, рдпрд╣ рдЯреЗрдореНрдкрд▓реЗрдЯ [рдПрдВрдереНрд░реЛрдкрд┐рдХ рдХреЗ рдХреНрд▓реЙрдб v2](https://aws.amazon.com/about-aws/whats-new/2023/08/claude-2-foundation-model-anthropic-amazon-bedrock/) (`anthropic.claude-v2`) рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИред

> рдХрд┐рд╕реА рд╡рд┐рд╢рд┐рд╖реНрдЯ рдореЙрдбрд▓ рддрдХ рдкрд╣реБрдВрдЪ рдорд╛рдВрдЧрдиреЗ рдХреЗ рд▓рд┐рдП, [рдЕрдореЗрдЬрд╝рди рдмреЗрдбреНрд░реЙрдХ рдпреВрдЬрд╝рд░ рдЧрд╛рдЗрдб](https://docs.aws.amazon.com/bedrock/latest/userguide/model-access.html) (рдореЙрдбрд▓ рдПрдХреНрд╕реЗрд╕) рджреЗрдЦреЗрдВред

рдХрд┐рд╕реА рдЕрдиреНрдп рдореЙрдбрд▓ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, `BEDROCK_JCVD_MODEL_ID` рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ рд╕реЗрдЯ рдХрд░реЗрдВред [рдЕрдореЗрдЬрд╝рди рдмреЗрдбреНрд░реЙрдХ рдпреВрдЬрд╝рд░ рдЧрд╛рдЗрдб](https://docs.aws.amazon.com/bedrock/latest/userguide/model-ids-arns.html) (API рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ > API рдСрдкрд░реЗрд╢рди > рд░рди рдЗрдиреНрдлрд░реЗрдВрд╕ > рдмреЗрд╕ рдореЙрдбрд▓ рдЖрдИрдбреА) рдореЗрдВ рдЖрдзрд╛рд░ рдореЙрдбрд▓реЛрдВ рдХреА рдПрдХ рд╕реВрдЪреА рдЙрдкрд▓рдмреНрдз рд╣реИред

> рдЙрдкрд▓рдмреНрдз рдореЙрдбрд▓реЛрдВ (рдЖрдзрд╛рд░ рдФрд░ [рдХрд╕реНрдЯрдо рдореЙрдбрд▓](https://docs.aws.amazon.com/bedrock/latest/userguide/custom-models.html)) рд╕рд╣рд┐рдд) рдХреА рдкреВрд░реА рд╕реВрдЪреА [рдЕрдореЗрдЬрд╝рди рдмреЗрдбреНрд░реЙрдХ рдХрдВрд╕реЛрд▓](https://docs.aws.amazon.com/bedrock/latest/userguide/using-console.html) рдореЗрдВ **рдлрд╛рдЙрдВрдбреЗрд╢рди рдореЙрдбрд▓реНрд╕** рдХреЗ рддрд╣рдд рдпрд╛ [`aws bedrock list-foundation-models`](https://docs.aws.amazon.com/cli/latest/reference/bedrock/list-foundation-models.html) рдХреЙрд▓ рдХрд░рдХреЗ рдЙрдкрд▓рдмреНрдз рд╣реИред

## рдЙрдкрдпреЛрдЧ

рдЗрд╕ рдкреИрдХреЗрдЬ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣рд▓реЗ рд╕реЗ LangChain CLI рд╕реНрдерд╛рдкрд┐рдд рд╣реЛрдирд╛ рдЪрд╛рд╣рд┐рдП:

```shell
pip install -U langchain-cli
```

рдПрдХ рдирдпрд╛ LangChain рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдФрд░ рдЗрд╕реЗ рдПрдХрдорд╛рддреНрд░ рдкреИрдХреЗрдЬ рдХреЗ рд░реВрдк рдореЗрдВ рд╕реНрдерд╛рдкрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдк рдРрд╕рд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```shell
langchain app new my-app --package bedrock-jcvd
```

рдпрджрд┐ рдЖрдк рдЗрд╕реЗ рдХрд┐рд╕реА рдореМрдЬреВрджрд╛ рдкреНрд░реЛрдЬреЗрдХреНрдЯ рдореЗрдВ рдЬреЛрдбрд╝рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рдмрд╕ рдпрд╣ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:

```shell
langchain app add bedrock-jcvd
```

рдФрд░ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдХреЛ рдЕрдкрдиреЗ `server.py` рдлрд╝рд╛рдЗрд▓ рдореЗрдВ рдЬреЛрдбрд╝реЗрдВ:

```python
from bedrock_jcvd import chain as bedrock_jcvd_chain

add_routes(app, bedrock_jcvd_chain, path="/bedrock-jcvd")
```

(рд╡реИрдХрд▓реНрдкрд┐рдХ) рдЕрдм LangSmith рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░реЗрдВред
LangSmith рд╣рдореЗрдВ LangChain рдЕрдиреБрдкреНрд░рдпреЛрдЧреЛрдВ рдХреЛ рдЯреНрд░реЗрд╕, рдореЙрдирд┐рдЯрд░ рдФрд░ рдбреАрдмрдЧ рдХрд░рдиреЗ рдореЗрдВ рдорджрдж рдХрд░реЗрдЧрд╛ред
рдЖрдк [рдпрд╣рд╛рдВ](https://smith.langchain.com/) LangSmith рдХреЗ рд▓рд┐рдП рд╕рд╛рдЗрди рдЕрдк рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред
рдпрджрд┐ рдЖрдкрдХреЗ рдкрд╛рд╕ рдкрд╣реБрдВрдЪ рдирд╣реАрдВ рд╣реИ, рддреЛ рдЖрдк рдЗрд╕ рдЦрдВрдб рдХреЛ рдЫреЛрдбрд╝ рд╕рдХрддреЗ рд╣реИрдВред

```shell
export LANGCHAIN_TRACING_V2=true
export LANGCHAIN_API_KEY=<your-api-key>
export LANGCHAIN_PROJECT=<your-project>  # if not specified, defaults to "default"
```

рдпрджрд┐ рдЖрдк рдЗрд╕ рдирд┐рд░реНрджреЗрд╢рд┐рдХрд╛ рдХреЗ рдЕрдВрджрд░ рд╣реИрдВ, рддреЛ рдЖрдк рд╕реАрдзреЗ рдПрдХ LangServe рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ:

```shell
langchain serve
```

рдпрд╣ FastAPI рдРрдк рдХреЛ рдЪрд╛рд▓реВ рдХрд░реЗрдЧрд╛ рдФрд░ рд╕рд░реНрд╡рд░ [http://localhost:8000](http://localhost:8000) рдкрд░ рд╕реНрдерд╛рдиреАрдп рд░реВрдк рд╕реЗ рдЪрд▓ рд░рд╣рд╛ рд╣реИред

рд╣рдо [http://127.0.0.1:8000/docs](http://127.0.0.1:8000/docs) рдкрд░ рд╕рднреА рдЯреЗрдореНрдкрд▓реЗрдЯ рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред

рд╣рдо [http://127.0.0.1:8000/bedrock-jcvd/playground](http://127.0.0.1:8000/bedrock-jcvd/playground) рдкрд░ рдЦреЗрд▓ рднреА рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВред
