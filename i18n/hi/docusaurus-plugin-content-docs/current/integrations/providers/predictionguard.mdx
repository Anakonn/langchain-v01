---
translated: true
---

# рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб

рдпрд╣ рдкреГрд╖реНрда LangChain рдореЗрдВ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб рдкрд╛рд░рд┐рд╕реНрдерд┐рддрд┐рдХреА рддрдВрддреНрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдиреЗ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХрд╡рд░ рдХрд░рддрд╛ рд╣реИред
рдпрд╣ рджреЛ рднрд╛рдЧреЛрдВ рдореЗрдВ рд╡рд┐рднрд╛рдЬрд┐рдд рд╣реИ: рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рд╕реЗрдЯрдЕрдк, рдФрд░ рдлрд┐рд░ рд╡рд┐рд╢рд┐рд╖реНрдЯ рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб рд░реИрдкрд░реЛрдВ рдХреЗ рд╕рдВрджрд░реНрднред

## рд╕реНрдерд╛рдкрдирд╛ рдФрд░ рд╕реЗрдЯрдЕрдк

- `pip install predictionguard` рдХреЗ рд╕рд╛рде Python SDK рд╕реНрдерд╛рдкрд┐рдд рдХрд░реЗрдВ
- рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рдкреНрд░рд╛рдкреНрдд рдХрд░реЗрдВ ([рдпрд╣рд╛рдБ](https://docs.predictionguard.com/)) рд╡рд░реНрдгрд┐рдд рдХреЗ рд░реВрдк рдореЗрдВ) рдФрд░ рдЗрд╕реЗ рдПрдХ рдкрд░реНрдпрд╛рд╡рд░рдг рдЪрд░ (`PREDICTIONGUARD_TOKEN`) рдХреЗ рд░реВрдк рдореЗрдВ рд╕реЗрдЯ рдХрд░реЗрдВ

## LLM рд░реИрдкрд░

рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб LLM рд░реИрдкрд░ рдореМрдЬреВрдж рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЙрдкрдпреЛрдЧ рдЖрдк рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```python
<!--IMPORTS:[{"imported": "PredictionGuard", "source": "langchain_community.llms", "docs": "https://api.python.langchain.com/en/latest/llms/langchain_community.llms.predictionguard.PredictionGuard.html", "title": "Prediction Guard"}]-->
from langchain_community.llms import PredictionGuard
```

рдЖрдк LLM рдХреЛ рдкреНрд░рд╛рд░рдВрдн рдХрд░рддреЗ рд╕рдордп рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб рдореЙрдбрд▓ рдХрд╛ рдирд╛рдо рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```python
pgllm = PredictionGuard(model="MPT-7B-Instruct")
```

рдЖрдк рдЕрдкрдирд╛ рдПрдХреНрд╕реЗрд╕ рдЯреЛрдХрди рд╕реАрдзреЗ рдПрдХ рддрд░реНрдХ рдХреЗ рд░реВрдк рдореЗрдВ рднреА рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ:

```python
pgllm = PredictionGuard(model="MPT-7B-Instruct", token="<your access token>")
```

рдЕрдВрдд рдореЗрдВ, рдЖрдк "рдЖрдЙрдЯрдкреБрдЯ" рддрд░реНрдХ рдкреНрд░рджрд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ LLM рдХреЗ рдЖрдЙрдЯрдкреБрдЯ рдХреЛ рд╕рдВрд░рдЪрд┐рдд/рдирд┐рдпрдВрддреНрд░рд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ:

```python
pgllm = PredictionGuard(model="MPT-7B-Instruct", output={"type": "boolean"})
```

## рдЙрджрд╛рд╣рд░рдг рдЙрдкрдпреЛрдЧ

рдирд┐рдпрдВрддреНрд░рд┐рдд рдпрд╛ рдЧрд╛рд░реНрдб рдХрд┐рдП рдЧрдП LLM рд░реИрдкрд░ рдХрд╛ рдореВрд▓рднреВрдд рдЙрдкрдпреЛрдЧ:

```python
<!--IMPORTS:[{"imported": "PredictionGuard", "source": "langchain_community.llms", "docs": "https://api.python.langchain.com/en/latest/llms/langchain_community.llms.predictionguard.PredictionGuard.html", "title": "Prediction Guard"}, {"imported": "PromptTemplate", "source": "langchain_core.prompts", "docs": "https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.prompt.PromptTemplate.html", "title": "Prediction Guard"}, {"imported": "LLMChain", "source": "langchain.chains", "docs": "https://api.python.langchain.com/en/latest/chains/langchain.chains.llm.LLMChain.html", "title": "Prediction Guard"}]-->
import os

import predictionguard as pg
from langchain_community.llms import PredictionGuard
from langchain_core.prompts import PromptTemplate
from langchain.chains import LLMChain

# Your Prediction Guard API key. Get one at predictionguard.com
os.environ["PREDICTIONGUARD_TOKEN"] = "<your Prediction Guard access token>"

# Define a prompt template
template = """Respond to the following query based on the context.

Context: EVERY comment, DM + email suggestion has led us to this EXCITING announcement! ЁЯОЙ We have officially added TWO new candle subscription box options! ЁЯУж
Exclusive Candle Box - $80
Monthly Candle Box - $45 (NEW!)
Scent of The Month Box - $28 (NEW!)
Head to stories to get ALL the deets on each box! ЁЯСЖ BONUS: Save 50% on your first box with code 50OFF! ЁЯОЙ

Query: {query}

Result: """
prompt = PromptTemplate.from_template(template)

# With "guarding" or controlling the output of the LLM. See the
# Prediction Guard docs (https://docs.predictionguard.com) to learn how to
# control the output with integer, float, boolean, JSON, and other types and
# structures.
pgllm = PredictionGuard(model="MPT-7B-Instruct",
                        output={
                                "type": "categorical",
                                "categories": [
                                    "product announcement",
                                    "apology",
                                    "relational"
                                    ]
                                })
pgllm(prompt.format(query="What kind of post is this?"))
```

рднрд╡рд┐рд╖реНрдпрд╡рд╛рдгреА рдЧрд╛рд░реНрдб рд░реИрдкрд░ рдХреЗ рд╕рд╛рде рдореВрд▓рднреВрдд LLM рд╢реНрд░реГрдВрдЦрд▓рд╛:

```python
<!--IMPORTS:[{"imported": "PromptTemplate", "source": "langchain_core.prompts", "docs": "https://api.python.langchain.com/en/latest/prompts/langchain_core.prompts.prompt.PromptTemplate.html", "title": "Prediction Guard"}, {"imported": "LLMChain", "source": "langchain.chains", "docs": "https://api.python.langchain.com/en/latest/chains/langchain.chains.llm.LLMChain.html", "title": "Prediction Guard"}, {"imported": "PredictionGuard", "source": "langchain_community.llms", "docs": "https://api.python.langchain.com/en/latest/llms/langchain_community.llms.predictionguard.PredictionGuard.html", "title": "Prediction Guard"}]-->
import os

from langchain_core.prompts import PromptTemplate
from langchain.chains import LLMChain
from langchain_community.llms import PredictionGuard

# Optional, add your OpenAI API Key. This is optional, as Prediction Guard allows
# you to access all the latest open access models (see https://docs.predictionguard.com)
os.environ["OPENAI_API_KEY"] = "<your OpenAI api key>"

# Your Prediction Guard API key. Get one at predictionguard.com
os.environ["PREDICTIONGUARD_TOKEN"] = "<your Prediction Guard access token>"

pgllm = PredictionGuard(model="OpenAI-gpt-3.5-turbo-instruct")

template = """Question: {question}

Answer: Let's think step by step."""
prompt = PromptTemplate.from_template(template)
llm_chain = LLMChain(prompt=prompt, llm=pgllm, verbose=True)

question = "What NFL team won the Super Bowl in the year Justin Beiber was born?"

llm_chain.predict(question=question)
```
