---
translated: true
---

# केला

>[केला](https://www.banana.dev/) ने AI मॉडल के लिए सर्वरलेस GPU इन्फ़ेरेंस, एक CI/CD बिल्ड पाइपलाइन और एक सरल Python फ्रेमवर्क (`पोटैशियम`) प्रदान किया है जो आपके मॉडल को सर्व करता है।

यह पृष्ठ [Banana](https://www.banana.dev) इकोसिस्टम का LangChain में उपयोग करने के बारे में कवर करता है।

## इंस्टॉलेशन और सेटअप

- `banana-dev` पायथन पैकेज इंस्टॉल करें:

```bash
pip install banana-dev
```

- [Banana.dev डैशबोर्ड](https://app.banana.dev) से एक Banana api कुंजी प्राप्त करें और इसे एक पर्यावरण चर (`BANANA_API_KEY`) के रूप में सेट करें
- अपने मॉडल की कुंजी और URL स्लग को मॉडल के विवरण पृष्ठ से प्राप्त करें।

## अपना Banana टेम्प्लेट परिभाषित करें

आपको अपने Banana ऐप के लिए एक Github रिपॉजिटरी सेट अप करने की आवश्यकता होगी। आप [इस गाइड](https://docs.banana.dev/banana-docs/) का उपयोग करके 5 मिनट में शुरू कर सकते हैं।

वैकल्पिक रूप से, एक तैयार-गया LLM उदाहरण के लिए, आप Banana के [CodeLlama-7B-Instruct-GPTQ](https://github.com/bananaml/demo-codellama-7b-instruct-gptq) GitHub रिपॉजिटरी की जांच कर सकते हैं। बस इसे फोर्क करें और Banana में तैनात करें।

अन्य स्टार्टर रिपॉजिटरी [यहां](https://github.com/orgs/bananaml/repositories?q=demo-&type=all&language=&sort=) उपलब्ध हैं।

## Banana ऐप बनाएं

LangChain में Banana ऐप का उपयोग करने के लिए, आपको `outputs` कुंजी को शामिल करना होगा
वापसी किए गए json में, और मान एक स्ट्रिंग होना चाहिए।

```python
# Return the results as a dictionary
result = {'outputs': result}
```

एक उदाहरण इन्फ़ेरेंस फ़ंक्शन इस प्रकार होगा:

```python
@app.handler("/")
def handler(context: dict, request: Request) -> Response:
    """Handle a request to generate code from a prompt."""
    model = context.get("model")
    tokenizer = context.get("tokenizer")
    max_new_tokens = request.json.get("max_new_tokens", 512)
    temperature = request.json.get("temperature", 0.7)
    prompt = request.json.get("prompt")
    prompt_template=f'''[INST] Write code to solve the following coding problem that obeys the constraints and passes the example test cases. Please wrap your code answer using ```:
    {prompt}
    [/INST]
    '''
    input_ids = tokenizer(prompt_template, return_tensors='pt').input_ids.cuda()
    output = model.generate(inputs=input_ids, temperature=temperature, max_new_tokens=max_new_tokens)
    result = tokenizer.decode(output[0])
    return Response(json={"outputs": result}, status=200)
```

यह उदाहरण [CodeLlama-7B-Instruct-GPTQ](https://github.com/bananaml/demo-codellama-7b-instruct-gptq) के `app.py` फ़ाइल से है।

## LLM

```python
<!--IMPORTS:[{"imported": "Banana", "source": "langchain_community.llms", "docs": "https://api.python.langchain.com/en/latest/llms/langchain_community.llms.bananadev.Banana.html", "title": "Banana"}]-->
from langchain_community.llms import Banana
```

एक [उपयोग उदाहरण](/docs/integrations/llms/banana) देखें।
