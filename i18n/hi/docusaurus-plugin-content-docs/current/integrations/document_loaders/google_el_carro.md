---
translated: true
---

# Google El Carro for Oracle Workloads

> Google [El Carro Oracle Operator](https://github.com/GoogleCloudPlatform/elcarro-oracle-operator)
рдПрдХ рдРрд╕рд╛ рддрд░реАрдХрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдЬрд┐рд╕рд╕реЗ рдЖрдк Kubernetes рдореЗрдВ Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдЪрд▓рд╛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреЛ рдПрдХ рдкреЛрд░реНрдЯреЗрдмрд▓, рдУрдкрди рд╕реЛрд░реНрд╕, рд╕рдореБрджрд╛рдп-рд╕рдВрдЪрд╛рд▓рд┐рдд, рдХреЛрдИ рд╡реЗрдВрдбрд░ рд▓реЙрдХ-рдЗрди рд╡рд╛рд▓рд╛ рдХрдВрдЯреЗрдирд░ рдСрд░реНрдХреЗрд╕реНрдЯреНрд░реЗрд╢рди рд╕рд┐рд╕реНрдЯрдо рд╣реИред El Carro
рд╡реНрдпрд╛рдкрдХ рдФрд░ рд╕реБрд╕рдВрдЧрдд рдХреЙрдиреНрдлрд╝рд┐рдЧрд░реЗрд╢рди рдФрд░ рддреИрдирд╛рддреА рдХреЗ рд▓рд┐рдП рдПрдХ рд╢рдХреНрддрд┐рд╢рд╛рд▓реА рдШреЛрд╖рдгрд╛рддреНрдордХ API рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ, рд╕рд╛рде рд╣реА рд╡рд╛рд╕реНрддрд╡рд┐рдХ рд╕рдордп рдХреА рдкрд░рд┐рдЪрд╛рд▓рди рдФрд░
рдирд┐рдЧрд░рд╛рдиреА рдХреЗ рд▓рд┐рдП рднреАред
El Carro Langchain рдПрдХреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЕрдкрдиреЗ Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдХреА рдХреНрд╖рдорддрд╛рдУрдВ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░реЗрдВ
AI-рд╕рдВрдЪрд╛рд▓рд┐рдд рдЕрдиреБрднрд╡ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдПред

рдпрд╣ рдЧрд╛рдЗрдб рдмрддрд╛рддреА рд╣реИ рдХрд┐ El Carro Langchain рдПрдХреАрдХрд░рдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ
[langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╣реЗрдЬреЗрдВ, рд▓реЛрдб рдХрд░реЗрдВ рдФрд░ рд╣рдЯрд╛рдПрдВ](/docs/modules/data_connection/document_loaders/)
`ElCarroLoader` рдФрд░ `ElCarroDocumentSaver` рдХреЗ рд╕рд╛рдеред рдпрд╣ рдПрдХреАрдХрд░рдг рдХрд┐рд╕реА рднреА Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ, рднрд▓реЗ рд╣реА рд╡рд╣ рдХрд╣реАрдВ рднреА рдЪрд▓ рд░рд╣рд╛ рд╣реЛред

[GitHub](https://github.com/googleapis/langchain-google-el-carro-python/) рдкрд░ рдкреИрдХреЗрдЬ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдзрд┐рдХ рдЬрд╛рдиреЗрдВред

[![Open In Colab](https://colab.research.google.com/assets/colab-badge.svg)](https://colab.research.google.com/github/googleapis/langchain-google-el-carro-python/blob/main/docs/document_loader.ipynb)

## рд╢реБрд░реВ рдХрд░рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ

рдХреГрдкрдпрд╛ El Carro Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗрдЯ рдЕрдк рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП
README рдХреЗ [Getting Started](https://github.com/googleapis/langchain-google-el-carro-python/tree/main/README.md#getting-started)
рдЕрдиреБрднрд╛рдЧ рдХреЛ рдкреВрд░рд╛ рдХрд░реЗрдВред

### ЁЯжЬЁЯФЧ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдЗрдВрд╕реНрдЯреЙрд▓реЗрд╢рди

рдПрдХреАрдХрд░рдг `langchain-google-el-carro` рдкреИрдХреЗрдЬ рдореЗрдВ рдореМрдЬреВрдж рд╣реИ, рдЗрд╕рд▓рд┐рдП
рд╣рдореЗрдВ рдЗрд╕реЗ рдЗрдВрд╕реНрдЯреЙрд▓ рдХрд░рдирд╛ рд╣реЛрдЧрд╛ред

```python
%pip install --upgrade --quiet langchain-google-el-carro
```

## рдореВрд▓рднреВрдд рдЙрдкрдпреЛрдЧ

### Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдХрдиреЗрдХреНрд╢рди рд╕реЗрдЯ рдЕрдк рдХрд░реЗрдВ

рдЕрдкрдиреЗ Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдХрдиреЗрдХреНрд╢рди рд╡рд┐рд╡рд░рдг рдХреЗ рд╕рд╛рде рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдЪрд░ рднрд░реЗрдВред

```python
# @title Set Your Values Here { display-mode: "form" }
HOST = "127.0.0.1"  # @param {type: "string"}
PORT = 3307  # @param {type: "integer"}
DATABASE = "my-database"  # @param {type: "string"}
TABLE_NAME = "message_store"  # @param {type: "string"}
USER = "my-user"  # @param {type: "string"}
PASSWORD = input("Please provide a password to be used for the database user: ")
```

рдпрджрд┐ рдЖрдк El Carro рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд░рд╣реЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╣реЛрд╕реНрдЯрдиреЗрдо рдФрд░ рдкреЛрд░реНрдЯ рдорд╛рди El Carro Kubernetes рдЗрдВрд╕реНрдЯреЗрдВрд╕ рдХреА
рд╕реНрдерд┐рддрд┐ рдореЗрдВ рдкрд╛ рд╕рдХрддреЗ рд╣реИрдВред
рдЕрдкрдиреЗ PDB рдХреЗ рд▓рд┐рдП рдмрдирд╛рдП рдЧрдП рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рдкрд╛рд╕рд╡рд░реНрдб рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВред

рдЙрджрд╛рд╣рд░рдг рдЖрдЙрдЯрдкреБрдЯ:

```output
kubectl get -w instances.oracle.db.anthosapis.com -n db
NAME   DB ENGINE   VERSION   EDITION      ENDPOINT      URL                DB NAMES   BACKUP ID   READYSTATUS   READYREASON        DBREADYSTATUS   DBREADYREASON

mydb   Oracle      18c       Express      mydb-svc.db   34.71.69.25:6021   ['pdbname']            TRUE          CreateComplete     True            CreateComplete
```

### ElCarroEngine рдХрдиреЗрдХреНрд╢рди рдкреВрд▓

`ElCarroEngine` рдЖрдкрдХреЗ Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рд▓рд┐рдП рдПрдХ рдХрдиреЗрдХреНрд╢рди рдкреВрд▓ рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд░рддрд╛ рд╣реИ, рдЬрд┐рд╕рд╕реЗ рдЖрдкрдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рд╕реЗ рд╕рдлрд▓ рдХрдиреЗрдХреНрд╢рди рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ рдФрд░ рдЙрджреНрдпреЛрдЧ рдХреА рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда рдкреНрд░рдерд╛рдУрдВ рдХрд╛ рдкрд╛рд▓рди рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред

```python
from langchain_google_el_carro import ElCarroEngine

elcarro_engine = ElCarroEngine.from_instance(
    db_host=HOST,
    db_port=PORT,
    db_name=DATABASE,
    db_user=USER,
    db_password=PASSWORD,
)
```

### рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВ

`elcarro_engine.init_document_table(<table_name>)` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреАрдорд╛ рдХреА рдПрдХ рддрд╛рд▓рд┐рдХрд╛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░реЗрдВред рддрд╛рд▓рд┐рдХрд╛ рдХреЙрд▓рдо:

- page_content (рдкреНрд░рдХрд╛рд░: text)
- langchain_metadata (рдкреНрд░рдХрд╛рд░: JSON)

```python
elcarro_engine.drop_document_table(TABLE_NAME)
elcarro_engine.init_document_table(
    table_name=TABLE_NAME,
)
```

### рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╣реЗрдЬреЗрдВ

`ElCarroDocumentSaver.add_documents(<documents>)` рдХреЗ рд╕рд╛рде langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╣реЗрдЬреЗрдВред
`ElCarroDocumentSaver` рдХреНрд▓рд╛рд╕ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ 2 рдЪреАрдЬрд╝реЛрдВ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:

1. `elcarro_engine` - рдПрдХ `ElCarroEngine` рдЗрдВрдЬрди рдХрд╛ рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ред
2. `table_name` - Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдирд╛рдоред

```python
from langchain_core.documents import Document
from langchain_google_el_carro import ElCarroDocumentSaver

doc = Document(
    page_content="Banana",
    metadata={"type": "fruit", "weight": 100, "organic": 1},
)

saver = ElCarroDocumentSaver(
    elcarro_engine=elcarro_engine,
    table_name=TABLE_NAME,
)
saver.add_documents([doc])
```

### рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░реЗрдВ

`ElCarroLoader.load()` рдпрд╛ `ElCarroLoader.lazy_load()` рдХреЗ рд╕рд╛рде langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░реЗрдВред
`lazy_load` рдПрдХ рдЬрдирд░реЗрдЯрд░ рд▓реМрдЯрд╛рддрд╛ рд╣реИ рдЬреЛ рдХреЗрд╡рд▓ рдЗрдЯрд░реЗрд╢рди рдХреЗ рджреМрд░рд╛рди рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдкреНрд░рд╢реНрди рдХрд░рддрд╛ рд╣реИред
`ElCarroLoader` рдХреНрд▓рд╛рд╕ рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЖрдкрдХреЛ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреНрд░рджрд╛рди рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ:

1. `elcarro_engine` - рдПрдХ `ElCarroEngine` рдЗрдВрдЬрди рдХрд╛ рдПрдХ рдЗрдВрд╕реНрдЯреЗрдВрд╕ред
2. `table_name` - Oracle рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдирд╛рдоред

```python
from langchain_google_el_carro import ElCarroLoader

loader = ElCarroLoader(elcarro_engine=elcarro_engine, table_name=TABLE_NAME)
docs = loader.lazy_load()
for doc in docs:
    print("Loaded documents:", doc)
```

### рдХреНрд╡реЗрд░реА рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░реЗрдВ

рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рдЕрд▓рд╛рд╡рд╛, рд╣рдо SQL рдХреНрд╡реЗрд░реА рд╕реЗ рдЙрддреНрдкрдиреНрди рджреГрд╢реНрдп рд╕реЗ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рднреА рд▓реЛрдб рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП:

```python
from langchain_google_el_carro import ElCarroLoader

loader = ElCarroLoader(
    elcarro_engine=elcarro_engine,
    query=f"SELECT * FROM {TABLE_NAME} WHERE json_value(langchain_metadata, '$.organic') = '1'",
)
onedoc = loader.load()
print(onedoc)
```

SQL рдХреНрд╡реЗрд░реА рд╕реЗ рдЙрддреНрдкрдиреНрди рджреГрд╢реНрдп рдХрд╛ рд╕реНрдХреАрдорд╛ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рдЕрд▓рдЧ рд╣реЛ рд╕рдХрддрд╛ рд╣реИред
рдРрд╕реЗ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, ElCarroLoader рдХрд╛ рд╡реНрдпрд╡рд╣рд╛рд░ рдЧреИрд░-рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреАрдорд╛ рд╡рд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд╕рдорд╛рди рд╣реЛрддрд╛ рд╣реИред
[Load documents with customized document page content & metadata](#load-documents-with-customized-document-page-content--metadata) рдЕрдиреБрднрд╛рдЧ рджреЗрдЦреЗрдВред

### рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣рдЯрд╛рдПрдВ

`ElCarroDocumentSaver.delete(<documents>)` рдХреЗ рд╕рд╛рде рдПрдХ Oracle рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреА рдПрдХ рд╕реВрдЪреА рд╣рдЯрд╛рдПрдВред

рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреАрдорд╛ (page_content, langchain_metadata) рд╡рд╛рд▓реА рддрд╛рд▓рд┐рдХрд╛ рдХреЗ рд▓рд┐рдП, рд╣рдЯрд╛рдиреЗ рдХрд╛ рдорд╛рдирджрдВрдб рд╣реИ:

рдПрдХ `рдкрдВрдХреНрддрд┐` рддрдм рд╣рдЯрд╛рдИ рдЬрд╛рдиреА рдЪрд╛рд╣рд┐рдП рдЬрдм рдХреЛрдИ `рджрд╕реНрддрд╛рд╡реЗрдЬрд╝` рд╕реВрдЪреА рдореЗрдВ рдореМрдЬреВрдж рд╣реЛ, рдЬрд╣рд╛рдВ

- `document.page_content` `row[page_content]` рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ
- `document.metadata` `row[langchain_metadata]` рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ

```python
docs = loader.load()
print("Documents before delete:", docs)
saver.delete(onedoc)
print("Documents after delete:", loader.load())
```

## рдЙрдиреНрдирдд рдЙрдкрдпреЛрдЧ

### рдЧреИрд░-рдбрд┐рдлрд╝реЙрд▓реНрдЯ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдкреГрд╖реНрда рд╕рд╛рдордЧреНрд░реА рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░реЗрдВ

рдкрд╣рд▓реЗ рд╣рдо рдПрдХ рдЧреИрд░-рдбрд┐рдлрд╝реЙрд▓реНрдЯ рд╕реНрдХреАрдорд╛ рд╡рд╛рд▓реА рдЙрджрд╛рд╣рд░рдг рддрд╛рд▓рд┐рдХрд╛ рддреИрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ рдФрд░ рдХреБрдЫ рдордирдорд╛рдиреЗ рдбреЗрдЯрд╛ рд╕реЗ рдЗрд╕реЗ рднрд░рддреЗ рд╣реИрдВред

```python
import sqlalchemy

create_table_query = f"""CREATE TABLE {TABLE_NAME} (
    fruit_id NUMBER GENERATED BY DEFAULT AS IDENTITY (START WITH 1),
    fruit_name VARCHAR2(100) NOT NULL,
    variety VARCHAR2(50),
    quantity_in_stock NUMBER(10) NOT NULL,
    price_per_unit NUMBER(6,2) NOT NULL,
    organic NUMBER(3) NOT NULL
)"""
elcarro_engine.drop_document_table(TABLE_NAME)

with elcarro_engine.connect() as conn:
    conn.execute(sqlalchemy.text(create_table_query))
    conn.commit()
    conn.execute(
        sqlalchemy.text(
            f"""
            INSERT INTO {TABLE_NAME} (fruit_name, variety, quantity_in_stock, price_per_unit, organic)
            VALUES ('Apple', 'Granny Smith', 150, 0.99, 1)
            """
        )
    )
    conn.execute(
        sqlalchemy.text(
            f"""
            INSERT INTO {TABLE_NAME} (fruit_name, variety, quantity_in_stock, price_per_unit, organic)
            VALUES ('Banana', 'Cavendish', 200, 0.59, 0)
            """
        )
    )
    conn.execute(
        sqlalchemy.text(
            f"""
            INSERT INTO {TABLE_NAME} (fruit_name, variety, quantity_in_stock, price_per_unit, organic)
            VALUES ('Orange', 'Navel', 80, 1.29, 1)
            """
        )
    )
    conn.commit()
```

рдпрджрд┐ рд╣рдо рдЕрднреА рднреА рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рддрд╛рд▓рд┐рдХрд╛ рд╕реЗ `ElCarroLoader` рдХреЗ рдбрд┐рдлрд╝реЙрд▓реНрдЯ рдкреИрд░рд╛рдореАрдЯрд░ рдХреЗ рд╕рд╛рде langchain рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд▓реЛрдб рдХрд░рддреЗ рд╣реИрдВ,
рддреЛ рд▓реЛрдб рдХрд┐рдП рдЧрдП рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХрд╛ `page_content` рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдкрд╣рд▓рд╛ рдХреЙрд▓рдо рд╣реЛрдЧрд╛, рдФрд░ `metadata` рд╕рднреА рдЕрдиреНрдп рдХреЙрд▓рдореЛрдВ рдХреЗ рдХреАрдорд╛рди рдпреБрдЧреНрдореЛрдВ рд╕реЗ рдмрдиреЗрдЧрд╛ред

```python
loader = ElCarroLoader(
    elcarro_engine=elcarro_engine,
    table_name=TABLE_NAME,
)
loaded_docs = loader.load()
print(f"Loaded Documents: [{loaded_docs}]")
```

рд╣рдо `ElCarroLoader` рдХреЛ рдЗрдирд┐рд╢рд┐рдпрд▓рд╛рдЗрдЬрд╝ рдХрд░рддреЗ рд╕рдордп `content_columns` рдФрд░ `metadata_columns` рд╕реЗрдЯ рдХрд░рдХреЗ рд▓реЛрдб рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╡рд╛рдВрдЫрд┐рдд рд╕рд╛рдордЧреНрд░реА рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред

1. `content_columns`: рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ `page_content` рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрд▓рдоред
2. `metadata_columns`: рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ `metadata` рдореЗрдВ рд▓рд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдХреЙрд▓рдоред

рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП рдпрд╣рд╛рдВ, `content_columns` рдореЗрдВ рдХреЙрд▓рдореЛрдВ рдХреЗ рдорд╛рди рдХреЛ рдПрдХ рд╕реНрдкреЗрд╕-рдЕрд▓рдЧ рдХрд┐рдпрд╛ рд╣реБрдЖ рд╕реНрдЯреНрд░рд┐рдВрдЧ рдХреЗ рд░реВрдк рдореЗрдВ рдЬреЛрдбрд╝рд╛ рдЬрд╛рдПрдЧрд╛, рдЬреЛ рд▓реЛрдб рдХрд┐рдП рдЧрдП рджрд╕реНрддрд╛рд╡реЗрдЬрд╝реЛрдВ рдХрд╛ `page_content` рд╣реЛрдЧрд╛, рдФрд░ `metadata_columns` рдореЗрдВ рдирд┐рд░реНрджрд┐рд╖реНрдЯ рдХреЙрд▓рдореЛрдВ рдХреЗ рдХреАрдорд╛рди рдпреБрдЧреНрдореЛрдВ рдХрд╛ `metadata` рд╣реЛрдЧрд╛ред

```python
loader = ElCarroLoader(
    elcarro_engine=elcarro_engine,
    table_name=TABLE_NAME,
    content_columns=[
        "variety",
        "quantity_in_stock",
        "price_per_unit",
        "organic",
    ],
    metadata_columns=["fruit_id", "fruit_name"],
)
loaded_docs = loader.load()
print(f"Loaded Documents: [{loaded_docs}]")
```

### рд╕рд╣реЗрдЬреЗрдВ рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдЕрдиреБрдХреВрд▓рд┐рдд рдкреГрд╖реНрда рд╕рд╛рдордЧреНрд░реА рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде

рд▓реИрдВрдЧрдЪреЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рд╕рд╣реЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдП рдЕрдиреБрдХреВрд▓рд┐рдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдлрд╝реАрд▓реНрдб рдХреЗ рд╕рд╛рде, рд╣рдореЗрдВ рдкрд╣рд▓реЗ `ElCarroEngine.init_document_table()` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдРрд╕реА рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдФрд░ рд╣рдо рдЪрд╛рд╣рддреЗ рд╣реИрдВ рдХрд┐ рдЗрд╕рдореЗрдВ `metadata_columns` рдХреА рд╕реВрдЪреА рд╣реЛред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рдмрдирд╛рдИ рдЧрдИ рддрд╛рд▓рд┐рдХрд╛ рдореЗрдВ рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рддрд╛рд▓рд┐рдХрд╛ рд╕реНрддрдВрдн рд╣реЛрдВрдЧреЗ:

- рд╕рд╛рдордЧреНрд░реА (рдкреНрд░рдХрд╛рд░: рдкрд╛рда): рдлрд▓ рд╡рд░реНрдгрди рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- рдкреНрд░рдХрд╛рд░ (рдкреНрд░рдХрд╛рд░ VARCHAR2(200)): рдлрд▓ рдкреНрд░рдХрд╛рд░ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- рд╡рдЬрди (рдкреНрд░рдХрд╛рд░ INT): рдлрд▓ рд╡рдЬрди рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред
- рдЕрддрд┐рд░рд┐рдХреНрдд_json_рдореЗрдЯрд╛рдбреЗрдЯрд╛ (рдкреНрд░рдХрд╛рд░: JSON): рдлрд▓ рдХреЗ рдЕрдиреНрдп рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдЬрд╛рдирдХрд╛рд░реА рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдПред

рд╣рдо `elcarro_engine.init_document_table()` рдХреЗ рд╕рд╛рде рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдкреИрд░рд╛рдореАрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рддрд╛рдХрд┐ рддрд╛рд▓рд┐рдХрд╛ рдмрдирд╛рдИ рдЬрд╛ рд╕рдХреЗ:

1. `table_name`: рдУрд░реЗрдХрд▓ рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рд▓реИрдВрдЧрдЪреЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рддрд╛рд▓рд┐рдХрд╛ рдХрд╛ рдирд╛рдоред
2. `metadata_columns`: рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕реНрддрдВрднреЛрдВ рдХреА рд╕реВрдЪреА рдХреЛ рджрд░реНрд╢рд╛рдиреЗ рд╡рд╛рд▓рд╛ `sqlalchemy.Column`ред
3. `content_column`: рд▓реИрдВрдЧрдЪреЗрди рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЗ `page_content` рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрддрдВрдн рдХрд╛ рдирд╛рдоред рдбрд┐рдлрд╝реЙрд▓реНрдЯ: `"page_content", "VARCHAR2(4000)"`
4. `metadata_json_column`: рдЕрддрд┐рд░рд┐рдХреНрдд JSON `metadata` рдХреЛ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рд╕реНрддрдВрдн рдХрд╛ рдирд╛рдоред рдбрд┐рдлрд╝реЙрд▓реНрдЯ: `"langchain_metadata", "VARCHAR2(4000)"`ред

```python
elcarro_engine.drop_document_table(TABLE_NAME)
elcarro_engine.init_document_table(
    table_name=TABLE_NAME,
    metadata_columns=[
        sqlalchemy.Column("type", sqlalchemy.dialects.oracle.VARCHAR2(200)),
        sqlalchemy.Column("weight", sqlalchemy.INT),
    ],
    content_column="content",
    metadata_json_column="extra_json_metadata",
)
```

`ElCarroDocumentSaver.add_documents(<documents>)` рдХреЗ рд╕рд╛рде рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╕рд╣реЗрдЬреЗрдВред рдЬреИрд╕рд╛ рдХрд┐ рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ рджреЗрдЦрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ,

- `document.page_content` рдХреЛ `content` рд╕реНрддрдВрдн рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред
- `document.metadata.type` рдХреЛ `type` рд╕реНрддрдВрдн рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред
- `document.metadata.weight` рдХреЛ `weight` рд╕реНрддрдВрдн рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред
- `document.metadata.organic` рдХреЛ JSON рдкреНрд░рд╛рд░реВрдк рдореЗрдВ `extra_json_metadata` рд╕реНрддрдВрдн рдореЗрдВ рд╕рд╣реЗрдЬрд╛ рдЬрд╛рдПрдЧрд╛ред

```python
doc = Document(
    page_content="Banana",
    metadata={"type": "fruit", "weight": 100, "organic": 1},
)

print(f"Original Document: [{doc}]")

saver = ElCarroDocumentSaver(
    elcarro_engine=elcarro_engine,
    table_name=TABLE_NAME,
    content_column="content",
    metadata_json_column="extra_json_metadata",
)
saver.add_documents([doc])

loader = ElCarroLoader(
    elcarro_engine=elcarro_engine,
    table_name=TABLE_NAME,
    content_columns=["content"],
    metadata_columns=[
        "type",
        "weight",
    ],
    metadata_json_column="extra_json_metadata",
)

loaded_docs = loader.load()
print(f"Loaded Document: [{loaded_docs[0]}]")
```

### рдЕрдиреБрдХреВрд▓рд┐рдд рдкреГрд╖реНрда рд╕рд╛рдордЧреНрд░реА рдФрд░ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдХреЗ рд╕рд╛рде рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рд╣рдЯрд╛рдПрдВ

рд╣рдо `ElCarroDocumentSaver.delete(<documents>)` рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдЕрдиреБрдХреВрд▓рд┐рдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рд╕реНрддрдВрднреЛрдВ рдХреЗ рд╕рд╛рде рджрд╕реНрддрд╛рд╡реЗрдЬрд╝ рдХреЛ рднреА рд╣рдЯрд╛ рд╕рдХрддреЗ рд╣реИрдВред рд╣рдЯрд╛рдиреЗ рдХрд╛ рдорд╛рдирджрдВрдб рдпрд╣ рд╣реИ:

рдПрдХ `рдкрдВрдХреНрддрд┐` рддрдм рд╣рдЯрд╛рдИ рдЬрд╛рдПрдЧреА рдЬрдм рдХреЛрдИ `рджрд╕реНрддрд╛рд╡реЗрдЬрд╝` рд╕реВрдЪреА рдореЗрдВ рдореМрдЬреВрдж рд╣реЛрдЧрд╛, рдЬрд┐рд╕рдХреЗ рд▓рд┐рдП

- `document.page_content` `row[page_content]` рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ
- рдкреНрд░рддреНрдпреЗрдХ рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдлрд╝реАрд▓реНрдб `k` рдХреЗ рд▓рд┐рдП `document.metadata`
    - `document.metadata[k]` `row[k]` рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ рдпрд╛ `document.metadata[k]` `row[langchain_metadata][k]` рдХреЗ рдмрд░рд╛рдмрд░ рд╣реИ
- `row` рдореЗрдВ рдХреЛрдИ рдЕрддрд┐рд░рд┐рдХреНрдд рдореЗрдЯрд╛рдбреЗрдЯрд╛ рдлрд╝реАрд▓реНрдб `document.metadata` рдореЗрдВ рдореМрдЬреВрдж рдирд╣реАрдВ рд╣реИред

```python
loader = ElCarroLoader(elcarro_engine=elcarro_engine, table_name=TABLE_NAME)
saver.delete(loader.load())
print(f"Documents left: {len(loader.load())}")
```

## рдФрд░ рдЙрджрд╛рд╣рд░рдг

рдХреГрдкрдпрд╛ рдкреВрд░реНрдг рдХреЛрдб рдЙрджрд╛рд╣рд░рдгреЛрдВ рдХреЗ рд▓рд┐рдП
[demo_doc_loader_basic.py](https://github.com/googleapis/langchain-google-el-carro-python/tree/main/samples/demo_doc_loader_basic.py)
рдФрд░ [demo_doc_loader_advanced.py](https://github.com/googleapis/langchain-google-el-carro-python/tree/main/samples/demo_doc_loader_advanced.py)
рджреЗрдЦреЗрдВред
