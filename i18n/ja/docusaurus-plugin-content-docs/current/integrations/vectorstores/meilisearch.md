---
translated: true
---

# Meilisearch

> [Meilisearch](https://meilisearch.com)ã¯ã€ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ã®é«˜é€Ÿã§é«˜åº¦ã«é–¢é€£æ€§ã®é«˜ã„æ¤œç´¢ã‚¨ãƒ³ã‚¸ãƒ³ã§ã™ã€‚é–‹ç™ºè€…ãŒã‚¹ãƒ ãƒ¼ã‚ºãªæ¤œç´¢ä½“é¨“ã‚’æ§‹ç¯‰ã™ã‚‹ã®ã«å½¹ç«‹ã¤å„ªã‚ŒãŸãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚
>
> [Meilisearchã‚’ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆ](https://www.meilisearch.com/docs/learn/getting_started/installation#local-installation)ã—ãŸã‚Šã€[Meilisearch Cloud](https://www.meilisearch.com/pricing)ã§å®Ÿè¡Œã—ãŸã‚Šã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Meilisearch v1.3ã¯ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ã€‚ã“ã®ãƒšãƒ¼ã‚¸ã§ã¯ã€Meilisearchã‚’ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã¨ã—ã¦çµ±åˆã—ã€ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã‚’è¡Œã†æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®èµ·å‹•

ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã«ã¯ã€å®Ÿè¡Œä¸­ã®Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒå¿…è¦ã§ã™ã€‚[ãƒ­ãƒ¼ã‚«ãƒ«ã§Meilisearchã‚’å®Ÿè¡Œ](https://www.meilisearch.com/docs/learn/getting_started/installation#local-installation)ã™ã‚‹ã‹ã€[Meilisearch Cloud](https://cloud.meilisearch.com/)ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

Meilisearch v1.3ã§ã¯ã€ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã¯å®Ÿé¨“çš„ãªæ©Ÿèƒ½ã§ã™ã€‚Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’èµ·å‹•ã—ãŸã‚‰ã€**ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚’æœ‰åŠ¹ã«ã™ã‚‹**å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã‚»ãƒ«ãƒ•ãƒ›ã‚¹ãƒˆã®Meilisearchã®å ´åˆã¯ã€[å®Ÿé¨“çš„æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–](https://www.meilisearch.com/docs/learn/experimental/overview)ã«é–¢ã™ã‚‹ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚**Meilisearch Cloud**ã®å ´åˆã¯ã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®_è¨­å®š_ãƒšãƒ¼ã‚¸ã§_ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢_ã‚’æœ‰åŠ¹ã«ã—ã¾ã™ã€‚

ã“ã‚Œã§ã€ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ãŒæœ‰åŠ¹ã«ãªã£ãŸMeilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãŒèµ·å‹•ã—ã¾ã—ãŸã€‚ ğŸ‰

### èªè¨¼æƒ…å ±

Meilisearch SDKã§Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¨å¯¾è©±ã™ã‚‹ã«ã¯ã€ãƒ›ã‚¹ãƒˆ(ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®URL)ã¨APIã‚­ãƒ¼ãŒå¿…è¦ã§ã™ã€‚

**ãƒ›ã‚¹ãƒˆ**

- **ãƒ­ãƒ¼ã‚«ãƒ«**ã®å ´åˆã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ›ã‚¹ãƒˆã¯ `localhost:7700` ã§ã™
- **Meilisearch Cloud**ã®å ´åˆã€ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®_è¨­å®š_ãƒšãƒ¼ã‚¸ã§ãƒ›ã‚¹ãƒˆã‚’ç¢ºèªã§ãã¾ã™

**APIã‚­ãƒ¼**

Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã«ã¯ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§3ã¤ã®APIã‚­ãƒ¼ãŒç”¨æ„ã•ã‚Œã¦ã„ã¾ã™:
- `MASTER KEY` - Meilisearchã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã®ä½œæˆã«ã®ã¿ä½¿ç”¨ã™ã‚‹
- `ADMIN KEY` - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨è¨­å®šã®æ›´æ–°ã«ã®ã¿ã‚µãƒ¼ãƒãƒ¼å´ã§ä½¿ç”¨ã™ã‚‹
- `SEARCH KEY` - ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§å®‰å…¨ã«å…±æœ‰ã§ãã‚‹ã‚­ãƒ¼

å¿…è¦ã«å¿œã˜ã¦[è¿½åŠ ã®APIã‚­ãƒ¼ã‚’ä½œæˆ](https://www.meilisearch.com/docs/learn/security/master_api_keys)ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯[Meilisearch Python SDK](https://github.com/meilisearch/meilisearch-python)ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã§ãã¾ã™:

```python
%pip install --upgrade --quiet  meilisearch
```

è©³ç´°ã¯[Meilisearch Python SDKã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://meilisearch.github.io/meilisearch-python/)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ä¾‹

Meilisearchãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã‚’åˆæœŸåŒ–ã™ã‚‹æ–¹æ³•ã¯è¤‡æ•°ã‚ã‚Šã¾ã™ã€‚Meilisearchã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’æä¾›ã™ã‚‹ã‹ã€_URL_ã¨_APIã‚­ãƒ¼_ã‚’å¿…è¦ã«å¿œã˜ã¦æŒ‡å®šã—ã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã§ã¯ã€è³‡æ ¼æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã‹ã‚‰èª­ã¿è¾¼ã¿ã¾ã™ã€‚

`os`ã¨`getpass`ã‚’ä½¿ã£ã¦ã€ãƒãƒ¼ãƒˆãƒ–ãƒƒã‚¯ç’°å¢ƒã§ç’°å¢ƒå¤‰æ•°ã‚’åˆ©ç”¨å¯èƒ½ã«ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚ä»¥ä¸‹ã®ä¾‹ã™ã¹ã¦ã§ã“ã®æ‰‹æ³•ã‚’ä½¿ã†ã“ã¨ãŒã§ãã¾ã™ã€‚

```python
import getpass
import os

os.environ["MEILI_HTTP_ADDR"] = getpass.getpass("Meilisearch HTTP address and port:")
os.environ["MEILI_MASTER_KEY"] = getpass.getpass("Meilisearch API Key:")
```

OpenAIEmbeddingsã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚ã€OpenAIã®APIã‚­ãƒ¼ã‚’å–å¾—ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚

```python
os.environ["OPENAI_API_KEY"] = getpass.getpass("OpenAI API Key:")
```

### ãƒ†ã‚­ã‚¹ãƒˆã¨ã‚¨ãƒ³ãƒ™ãƒ‡ã‚£ãƒ³ã‚°ã®è¿½åŠ 

ã“ã®ä¾‹ã§ã¯ã€Meilisearchãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã‚’åˆæœŸåŒ–ã›ãšã«ãƒ†ã‚­ã‚¹ãƒˆã‚’ãƒ™ã‚¯ãƒˆãƒ«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ã—ã¾ã™ã€‚

```python
from langchain_community.vectorstores import Meilisearch
from langchain_openai import OpenAIEmbeddings
from langchain_text_splitters import CharacterTextSplitter

embeddings = OpenAIEmbeddings()
embedders = {
    "default": {
        "source": "userProvided",
        "dimensions": 1536,
    }
}
embedder_name = "default"
```

```python
with open("../../modules/state_of_the_union.txt") as f:
    state_of_the_union = f.read()
text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)
texts = text_splitter.split_text(state_of_the_union)
```

```python
# Use Meilisearch vector store to store texts & associated embeddings as vector
vector_store = Meilisearch.from_texts(
    texts=texts, embedding=embeddings, embedders=embedders, embedder_name=embedder_name
)
```

å†…éƒ¨çš„ã«Meilisearchã¯ãƒ†ã‚­ã‚¹ãƒˆã‚’è¤‡æ•°ã®ãƒ™ã‚¯ãƒˆãƒ«ã«å¤‰æ›ã—ã¾ã™ã€‚æ¬¡ã®ä¾‹ã¨åŒã˜çµæœã«ãªã‚Šã¾ã™ã€‚

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚¨ãƒ³ãƒ™ãƒ‡ã‚£ãƒ³ã‚°ã®è¿½åŠ 

ã“ã®ä¾‹ã§ã¯ã€Langchain TextSplitterã‚’ä½¿ã£ã¦ãƒ†ã‚­ã‚¹ãƒˆã‚’è¤‡æ•°ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«åˆ†å‰²ã—ã€ãã‚Œã‚‰ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨ã‚¨ãƒ³ãƒ™ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä¿å­˜ã—ã¾ã™ã€‚

```python
from langchain_community.document_loaders import TextLoader

# Load text
loader = TextLoader("../../modules/state_of_the_union.txt")
documents = loader.load()
text_splitter = CharacterTextSplitter(chunk_size=1000, chunk_overlap=0)

# Create documents
docs = text_splitter.split_documents(documents)

# Import documents & embeddings in the vector store
vector_store = Meilisearch.from_documents(
    documents=documents,
    embedding=embeddings,
    embedders=embedders,
    embedder_name=embedder_name,
)

# Search in our vector store
query = "What did the president say about Ketanji Brown Jackson"
docs = vector_store.similarity_search(query, embedder_name=embedder_name)
print(docs[0].page_content)
```

## Meilisearch Vectorstoreã‚’ä½œæˆã—ã¦ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ 

ã“ã®ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã§ã¯ã€ãƒ™ã‚¯ãƒˆãƒ«ã‚¹ãƒˆã‚¢ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã™ã€‚

```python
import meilisearch
from langchain_community.vectorstores import Meilisearch

client = meilisearch.Client(url="http://127.0.0.1:7700", api_key="***")
vector_store = Meilisearch(
    embedding=embeddings,
    embedders=embedders,
    client=client,
    index_name="langchain_demo",
    text_key="text",
)
vector_store.add_documents(documents)
```

## ã‚¹ã‚³ã‚¢ä»˜ãã®é¡ä¼¼æ¤œç´¢

ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰ã§ã¯ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨æ¤œç´¢ã‚¯ã‚¨ãƒªã®è·é›¢ã‚¹ã‚³ã‚¢ã‚’è¿”ã™ã“ã¨ãŒã§ãã¾ã™ã€‚`embedder_name`ã¯æ„å‘³æ¤œç´¢ã«ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ³ãƒ™ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã®åå‰ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯"default"ã§ã™ã€‚

```python
docs_and_scores = vector_store.similarity_search_with_score(
    query, embedder_name=embedder_name
)
docs_and_scores[0]
```

## ãƒ™ã‚¯ãƒˆãƒ«ã«ã‚ˆã‚‹é¡ä¼¼æ¤œç´¢

`embedder_name`ã¯æ„å‘³æ¤œç´¢ã«ä½¿ç”¨ã™ã‚‹ã‚¨ãƒ³ãƒ™ãƒ‡ã‚£ãƒ³ã‚°ãƒ¢ãƒ‡ãƒ«ã®åå‰ã§ã€ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯"default"ã§ã™ã€‚

```python
embedding_vector = embeddings.embed_query(query)
docs_and_scores = vector_store.similarity_search_by_vector(
    embedding_vector, embedder_name=embedder_name
)
docs_and_scores[0]
```

## è¿½åŠ ãƒªã‚½ãƒ¼ã‚¹

ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
- [Meilisearch](https://www.meilisearch.com/docs/)
- [Meilisearch Python SDK](https://python-sdk.meilisearch.com)

ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒªãƒã‚¸ãƒˆãƒª
- [Meilisearchãƒªãƒã‚¸ãƒˆãƒª](https://github.com/meilisearch/meilisearch)
- [Meilisearch Python SDK](https://github.com/meilisearch/meilisearch-python)
