---
translated: true
---

# Oracle AI ベクトル検索: サマリーの生成

Oracle AI ベクトル検索は、キーワードではなくセマンティクスに基づいてデータを照会できるAI(人工知能)ワークロード向けに設計されています。Oracle AI ベクトル検索の最大の利点の1つは、構造化データに対する関係検索と非構造化データに対するセマンティック検索を1つのシステムで組み合わせられることです。これは強力であり、複数のシステム間でデータの断片化に悩まされることなく、はるかに効果的です。

このガイドでは、Oracle AI ベクトル検索のサマリー機能を使用して、OracleSummaryを使用してドキュメントのサマリーを生成する方法を示します。

### 前提条件

Oracle AI ベクトル検索とLangchainを使用するには、Oracle Pythonクライアントドライバーをインストールする必要があります。

```python
# pip install oracledb
```

### Oracle Databaseに接続する

次のサンプルコードは、Oracle Databaseに接続する方法を示しています。

```python
import sys

import oracledb

# please update with your username, password, hostname and service_name
username = "<username>"
password = "<password>"
dsn = "<hostname>/<service_name>"

try:
    conn = oracledb.connect(user=username, password=password, dsn=dsn)
    print("Connection successful!")
except Exception as e:
    print("Connection failed!")
    sys.exit(1)
```

### サマリーの生成

Oracle AI ベクトル検索Langchainライブラリには、ドキュメントのサマリーを生成するためのAPIが用意されています。Database、OCIGENAI、HuggingFaceなど、いくつかのサマリー生成プロバイダーオプションがあります。ユーザーは好みのプロバイダーを選択してサマリーを生成できます。サマリーパラメーターを適切に設定する必要があります。これらのパラメーターの完全な情報については、Oracle AI ベクトル検索ガイドブックを参照してください。

***注意:*** ユーザーは、Oracle社内およびデフォルトのプロバイダー'database'以外の3rd party サマリー生成プロバイダーを使用する場合、プロキシを設定する必要がある可能性があります。プロキシがない場合は、OracleSummaryをインスタンス化する際にプロキシパラメーターを削除してください。

```python
# proxy to be used when we instantiate summary and embedder object
proxy = "<proxy>"
```

次のサンプルコードは、サマリーを生成する方法を示しています。

```python
from langchain_community.utilities.oracleai import OracleSummary
from langchain_core.documents import Document

"""
# using 'ocigenai' provider
summary_params = {
    "provider": "ocigenai",
    "credential_name": "OCI_CRED",
    "url": "https://inference.generativeai.us-chicago-1.oci.oraclecloud.com/20231130/actions/summarizeText",
    "model": "cohere.command",
}

# using 'huggingface' provider
summary_params = {
    "provider": "huggingface",
    "credential_name": "HF_CRED",
    "url": "https://api-inference.huggingface.co/models/",
    "model": "facebook/bart-large-cnn",
    "wait_for_model": "true"
}
"""

# using 'database' provider
summary_params = {
    "provider": "database",
    "glevel": "S",
    "numParagraphs": 1,
    "language": "english",
}

# get the summary instance
# Remove proxy if not required
summ = OracleSummary(conn=conn, params=summary_params, proxy=proxy)
summary = summ.get_summary(
    "In the heart of the forest, "
    + "a lone fox ventured out at dusk, seeking a lost treasure. "
    + "With each step, memories flooded back, guiding its path. "
    + "As the moon rose high, illuminating the night, the fox unearthed "
    + "not gold, but a forgotten friendship, worth more than any riches."
)

print(f"Summary generated by OracleSummary: {summary}")
```

### エンドツーエンドのデモ

Oracle AI ベクトル検索を使用したRAGパイプラインの完全なデモガイドについては、[Oracle AI ベクトル検索エンドツーエンドデモガイド](https://github.com/langchain-ai/langchain/tree/master/cookbook/oracleai_demo.md)を参照してください。
