---
translated: true
---

# Répliquer

Cette page couvre comment exécuter des modèles sur Replicate dans LangChain.

## Installation et configuration

- Créez un compte [Replicate](https://replicate.com). Obtenez votre clé API et définissez-la comme variable d'environnement (`REPLICATE_API_TOKEN`)
- Installez le [client python Replicate](https://github.com/replicate/replicate-python) avec `pip install replicate`

## Appeler un modèle

Trouvez un modèle sur la [page d'exploration Replicate](https://replicate.com/explore), puis collez le nom du modèle et la version dans ce format : `propriétaire-nom/nom-du-modèle:version`

Par exemple, pour ce [modèle dolly](https://replicate.com/replicate/dolly-v2-12b), cliquez sur l'onglet API. Le nom/version du modèle serait : `"replicate/dolly-v2-12b:ef0e1aefc61f8e096ebe4db6b2bacc297daf2ef6899f0f7e001ec445893500e5"`

Seul le paramètre `model` est obligatoire, mais tous les autres paramètres du modèle peuvent également être transmis avec le format `input={model_param: valeur, ...}`

Par exemple, si nous exécutions Stable Diffusion et que nous voulions changer les dimensions de l'image :

```python
Replicate(model="stability-ai/stable-diffusion:db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf", input={'image_dimensions': '512x512'})
```

*Notez que seule la première sortie d'un modèle sera renvoyée.*
À partir de là, nous pouvons initialiser notre modèle :

```python
llm = Replicate(model="replicate/dolly-v2-12b:ef0e1aefc61f8e096ebe4db6b2bacc297daf2ef6899f0f7e001ec445893500e5")
```

Et l'exécuter :

```python
prompt = """
Answer the following yes/no question by reasoning step by step.
Can a dog drive a car?
"""
llm(prompt)
```

Nous pouvons appeler n'importe quel modèle Replicate (pas seulement les LLM) en utilisant cette syntaxe. Par exemple, nous pouvons appeler [Stable Diffusion](https://replicate.com/stability-ai/stable-diffusion) :

```python
text2image = Replicate(model="stability-ai/stable-diffusion:db21e45d3f7023abc2a46ee38a23973f6dce16bb082a930b0c49861f96d1e5bf", input={'image_dimensions':'512x512'})

image_output = text2image("A cat riding a motorcycle by Picasso")
```
