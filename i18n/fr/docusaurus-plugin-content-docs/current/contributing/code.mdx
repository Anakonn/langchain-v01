---
sidebar_position: 1
translated: true
---

# Contribuer au code

Pour contribuer √† ce projet, veuillez suivre le workflow ["fork and pull request"](https://docs.github.com/en/get-started/quickstart/contributing-to-projects).
Veuillez ne pas essayer de pousser directement vers ce r√©f√©rentiel √† moins que vous ne soyez un mainteneur.

Veuillez suivre le mod√®le de demande de tirage v√©rifi√© lors de l'ouverture des demandes de tirage. Notez les probl√®mes connexes et √©tiquetez les mainteneurs concern√©s.

Les demandes de tirage ne peuvent pas √™tre int√©gr√©es sans passer les contr√¥les de formatage, de linting et de test en premier. Voir [Test](#test) et [Formatage et Linting](#formatage-et-linting) pour savoir comment ex√©cuter ces contr√¥les localement.

Il est essentiel que nous maintenions une excellente documentation et des tests. Si vous :
- Corrigez un bogue
  - Ajoutez un test unitaire ou d'int√©gration pertinent lorsque c'est possible. Ceux-ci se trouvent dans `tests/unit_tests` et `tests/integration_tests`.
- Apportez une am√©lioration
  - Mettez √† jour tous les cahiers d'exemples et la documentation affect√©s. Ceux-ci se trouvent dans `docs`.
  - Mettez √† jour les tests unitaires et d'int√©gration lorsque c'est pertinent.
- Ajoutez une fonctionnalit√©
  - Ajoutez un cahier de d√©monstration dans `docs/docs/`.
  - Ajoutez des tests unitaires et d'int√©gration.

Nous sommes une petite √©quipe orient√©e vers le progr√®s. Si vous souhaitez ajouter ou modifier quelque chose, ouvrir une demande de tirage est le meilleur moyen d'attirer notre attention.

## üöÄ D√©marrage rapide

Ce guide de d√©marrage rapide explique comment ex√©cuter le r√©f√©rentiel localement.
Pour un [conteneur de d√©veloppement](https://containers.dev/), voir le [dossier .devcontainer](https://github.com/langchain-ai/langchain/tree/master/.devcontainer).

### Gestion des d√©pendances : Poetry et autres gestionnaires d'environnements/d√©pendances

Ce projet utilise [Poetry](https://python-poetry.org/) v1.7.1+ comme gestionnaire de d√©pendances.

‚ùóRemarque : *Avant d'installer Poetry*, si vous utilisez `Conda`, cr√©ez et activez un nouvel environnement Conda (par exemple `conda create -n langchain python=3.9`)

Installer Poetry : **[documentation sur la fa√ßon de l'installer](https://python-poetry.org/docs/#installation)**.

‚ùóRemarque : Si vous utilisez `Conda` ou `Pyenv` comme gestionnaire d'environnement/de paquets, apr√®s avoir install√© Poetry,
dites √† Poetry d'utiliser l'environnement virtuel python (`poetry config virtualenvs.prefer-active-python true`)

### Diff√©rents paquets

Ce r√©f√©rentiel contient plusieurs paquets :
- `langchain-core` : Interfaces de base pour les principales abstractions ainsi que la logique pour les combiner en cha√Ænes (Langage d'expression LangChain).
- `langchain-community` : Int√©grations tierces de divers composants.
- `langchain` : Cha√Ænes, agents et logique de r√©cup√©ration qui constituent l'architecture cognitive de vos applications.
- `langchain-experimental` : Composants et cha√Ænes qui sont exp√©rimentaux, soit dans le sens o√π les techniques sont nouvelles et encore en cours de test, soit elles n√©cessitent de donner au LLM plus d'acc√®s que ce qui serait possible dans la plupart des syst√®mes de production.
- Int√©grations partenaires : Paquets partenaires dans `libs/partners` qui sont g√©r√©s de mani√®re ind√©pendante.

Chacun d'entre eux a son propre environnement de d√©veloppement. La documentation est ex√©cut√©e √† partir du fichier makefile de niveau sup√©rieur, mais le d√©veloppement est r√©parti entre des flux de test et de publication distincts.

Pour ce d√©marrage rapide, commencez par langchain-community :

```bash
cd libs/community
```

### D√©pendances de d√©veloppement local

Installez les exigences de d√©veloppement de langchain-community (pour ex√©cuter langchain, ex√©cuter des exemples, le linting, le formatage, les tests et la couverture) :

```bash
poetry install --with lint,typing,test,test_integration
```

Ensuite, v√©rifiez l'installation des d√©pendances :

```bash
make test
```

Si, lors de l'installation, vous recevez une `WheelFileValidationError` pour `debugpy`, assurez-vous que vous ex√©cutez
Poetry v1.6.1+. Ce bogue √©tait pr√©sent dans les anciennes versions de Poetry (par exemple 1.4.1) et a √©t√© r√©solu dans les versions plus r√©centes.
Si vous voyez toujours ce bogue sur v1.6.1+, vous pouvez √©galement essayer de d√©sactiver "l'installation moderne"
(`poetry config installer.modern-installation false`) et de r√©installer les exigences.
Voir [ce probl√®me `debugpy`](https://github.com/microsoft/debugpy/issues/1246) pour plus de d√©tails.

### Test

_Dans `langchain`, `langchain-community` et `langchain-experimental`, certaines d√©pendances de test sont facultatives ; voir la section sur les d√©pendances facultatives_.

Les tests unitaires couvrent la logique modulaire qui ne n√©cessite pas d'appels √† des API ext√©rieures.
Si vous ajoutez une nouvelle logique, veuillez ajouter un test unitaire.

Pour ex√©cuter les tests unitaires :

```bash
make test
```

Pour ex√©cuter les tests unitaires dans Docker :

```bash
make docker_tests
```

Il y a aussi des [tests d'int√©gration et de couverture du code](/docs/contributing/testing/) disponibles.

### D√©velopper uniquement langchain_core ou langchain_experimental

Si vous ne d√©veloppez que `langchain_core` ou `langchain_experimental`, vous pouvez simplement installer les d√©pendances des projets respectifs et ex√©cuter les tests :

```bash
cd libs/core
poetry install --with test
make test
```

Ou :

```bash
cd libs/experimental
poetry install --with test
make test
```

### Formatage et Linting

Ex√©cutez ces commandes localement avant de soumettre une demande de tirage ; le syst√®me CI les v√©rifiera √©galement.

#### Formatage du code

Le formatage de ce projet se fait via [ruff](https://docs.astral.sh/ruff/rules/).

Pour ex√©cuter le formatage pour la documentation, le cookbook et les mod√®les :

```bash
make format
```

Pour ex√©cuter le formatage pour une biblioth√®que, ex√©cutez la m√™me commande depuis le r√©pertoire de la biblioth√®que concern√©e :

```bash
cd libs/{LIBRARY}
make format
```

De plus, vous pouvez n'ex√©cuter le formateur que sur les fichiers qui ont √©t√© modifi√©s dans votre branche actuelle par rapport √† la branche principale en utilisant la commande format_diff :

```bash
make format_diff
```

Cela est particuli√®rement utile lorsque vous avez apport√© des modifications √† un sous-ensemble du projet et que vous voulez vous assurer que vos modifications sont correctement format√©es sans affecter le reste de la base de code.

Voici la traduction en fran√ßais (fr) du texte fourni, conform√©ment aux directives indiqu√©es :

#### Linting

Le linting pour ce projet est effectu√© via une combinaison de [ruff](https://docs.astral.sh/ruff/rules/) et [mypy](http://mypy-lang.org/).

Pour ex√©cuter le linting pour les docs, le cookbook et les templates :

```bash
make lint
```

Pour ex√©cuter le linting pour une biblioth√®que, ex√©cutez la m√™me commande depuis le r√©pertoire de la biblioth√®que concern√©e :

```bash
cd libs/{LIBRARY}
make lint
```

De plus, vous pouvez ex√©cuter le linter uniquement sur les fichiers qui ont √©t√© modifi√©s dans votre branche actuelle par rapport √† la branche master en utilisant la commande lint_diff :

```bash
make lint_diff
```

Cela peut √™tre tr√®s utile lorsque vous n'avez apport√© des modifications que √† certaines parties du projet et que vous voulez vous assurer que vos modifications respectent les normes de linting sans avoir √† v√©rifier l'ensemble de la base de code.

Nous reconnaissons que le linting peut √™tre aga√ßant - si vous ne voulez pas le faire, veuillez contacter un responsable du projet, et ils pourront vous aider avec cela. Nous ne voulons pas que cela soit un obstacle pour que de bon code soit contribu√©.

#### V√©rification orthographique

La v√©rification orthographique pour ce projet est effectu√©e via [codespell](https://github.com/codespell-project/codespell).
Notez que `codespell` trouve les fautes d'orthographe courantes, donc il pourrait y avoir des faux positifs (mots correctement orthographi√©s mais rarement utilis√©s) et des faux n√©gatifs (ne pas trouver des mots mal orthographi√©s).

Pour v√©rifier l'orthographe de ce projet :

```bash
make spell_check
```

Pour corriger l'orthographe sur place :

```bash
make spell_fix
```

Si codespell signale incorrectement un mot, vous pouvez ignorer la v√©rification orthographique pour ce mot en l'ajoutant √† la configuration codespell dans le fichier `pyproject.toml`.

```python
[tool.codespell]
...
# Add here:
ignore-words-list = 'momento,collison,ned,foor,reworkd,parth,whats,aapply,mysogyny,unsecure'
```

## Travailler avec des d√©pendances optionnelles

`langchain`, `langchain-community` et `langchain-experimental` s'appuient sur des d√©pendances optionnelles pour garder ces packages l√©gers.

`langchain-core` et les packages partenaires **n'utilisent pas** de d√©pendances optionnelles de cette mani√®re.

Vous ne devez ajouter une nouvelle d√©pendance que si un **test unitaire** d√©pend du package.
Si votre package est uniquement requis pour les **tests d'int√©gration**, vous pouvez alors ignorer ces
√©tapes et laisser tous les fichiers pyproject.toml et poetry.lock tels quels.

Si vous ajoutez une nouvelle d√©pendance √† Langchain, supposez qu'il s'agira d'une d√©pendance optionnelle, et
que la plupart des utilisateurs ne l'auront pas install√©e.

Les utilisateurs qui n'ont pas la d√©pendance install√©e devraient pouvoir **importer** votre code sans
aucun effet secondaire (pas d'avertissements, pas d'erreurs, pas d'exceptions).

Pour introduire correctement la d√©pendance dans le fichier pyproject.toml, veuillez suivre ces √©tapes :

1. Ajoutez la d√©pendance au groupe principal en tant que d√©pendance optionnelle
  ```bash
  poetry add --optional [nom_du_package]
  ```
2. Ouvrez le fichier pyproject.toml et ajoutez la d√©pendance √† l'extra `extended_testing`
3. Verrouillez √† nouveau le fichier poetry pour mettre √† jour l'extra.
  ```bash
  poetry lock --no-update
  ```
4. Ajoutez un test unitaire qui tente au minimum d'importer le nouveau code. Id√©alement, le test
unitaire utilise des fixtures l√©g√®res pour tester la logique du code.
5. Veuillez utiliser le d√©corateur `@pytest.mark.requires(nom_du_package)` pour tous les tests qui n√©cessitent la d√©pendance.

## Ajouter un Jupyter Notebook

Si vous ajoutez un exemple de Jupyter Notebook, vous voudrez installer les d√©pendances `dev` optionnelles.

Pour installer les d√©pendances de d√©veloppement :

```bash
poetry install --with dev
```

Lancez un notebook :

```bash
poetry run jupyter notebook
```

Lorsque vous ex√©cutez `poetry install`, le package `langchain` est install√© en mode √©ditable dans l'environnement virtuel, donc votre nouvelle logique peut √™tre import√©e dans le notebook.
